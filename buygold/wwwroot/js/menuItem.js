var dataTable; $(document).ready(function () { dataTable = $('#DT_load').DataTable({ "ajax": { "url": "/api/MenuItem", "type": "GET", "datatype": "json" }, "columns": [{ "data": "name", "width": "25%" }, { "data": "price", "width": "15%" }, { "data": "category.name", "width": "15%" }, { "data": "gameType.name", "width": "15%" }, { "data": "id", "render": function (data) { return `<div class="w-75 btn-group" ><a href="/Admin/MenuItems/upsert?id=${data}"class="btn mx-2"><i class="fa-duotone fa-file-pen"style="color:blue"></i></a><a onClick=Delete('/api/MenuItem/'+${data})class="btn mx-2"><i class="fa-duotone fa-trash"style="color:red"></i></a></div>` }, "width": "15%" }], "width": "100%" }); });
function Delete(url){Swal.fire({title: 'مطمعن هستید؟',text: "!قابل بازگشت نیست",icon: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'بله!',cancelButtonText:'لغو'}).then((result) => {if(result.isConfirmed){$.ajax({url: url,type: 'DELETE',success:function (data) {if(data.success) {dataTable.ajax.reload();/*success notification*/iziToast.success({ title: data.message });}else{/*failsure notification*/iziToast.error({ title:data.message});}}})}})}